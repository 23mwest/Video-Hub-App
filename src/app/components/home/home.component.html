<div class="everything">

  <div class="top toolbar toolbar-header">

    <app-top-component
      class="top-content-position"
      [fileString]="currentPlayingFile"
      [folderString]="currentPlayingFolder"
    ></app-top-component>

  </div>
<div class="pane-group">
  <div class="search pane-sm sidebar">

    <span>Folder: {{ folderSearchStringSaved }}</span>
    <input
      #folder
      (keyup.enter)="onFolderEnter(folder.value)"
      [(ngModel)]="folderSearchString"
      type="text"
    >

    <span>File: {{ fileSearchStringSaved }} </span>
    <input
      #file
      (keyup.enter)="onFileEnter(file.value)"
      [(ngModel)]="fileSearchString"
      type="text"
    >

    <span>Magic: {{ magicSearchString }}</span>
    <input
      [(ngModel)]="magicSearchString"
      type="text"
    >

    <br>
    <br>
    <br>
    <br>

    <button (click)="importFresh()" style="background: #FF3333">Import Fresh</button>
    <br>
    <br>
    <span class="title" style="width: 180px; overflow-wrap: break-word">
      {{ selectedSourceFolder }}
    </span>
    <br>
    <br>
    <button (click)="loadFromFile()">Load from file</button>

  </div>
</div>
  <div class="gallery-container">

    <div class="gallery">

      <!-- <virtual-scroll
        [items]="finalArray"
        [bufferAmount]="5"
        [childWidth]="100"
        [childHeight]="100"
        (update)="viewPortItems = $event"
      > -->

        <div
          class="item"
          *ngFor="let item of finalArray
            | magicSearchPipe: magicSearchString
            | folderSearchPipe: folderSearchStringSaved
            | fileSearchPipe: fileSearchStringSaved
            | limitPipe: numberToShow;
            index as i"
        >

          <div class="preview">
            <app-gallery-item (click)="openVideo(i)" [stuff]="item[3]" [folderPath]="selectedOutputFolder"></app-gallery-item>
          </div>

          <div class="folder">
            {{ item[0] || '&emsp;' }}
          </div>

          <br>

          <div class="title">
            {{ item[2] }}
          </div>

        </div>

      <!-- </virtual-scroll> -->

    </div>

  </div>

</div>
